<form (onsubmit)="changePassword()" [formGroup]="form">
  <ul *ngIf="form.errors" class="alert alert-danger">
    <!-- <li *ngFor="let error of form.errors">{{ error.key }}</li> -->
  </ul>
  <div class="form-group">
    <label for="oldPassword">Old Password</label>
    <input formControlName="oldPassword" type="password" class="form-control" id="oldPassword">
    <div *ngIf="oldPassword.pending">Checking password...</div>
    <ul *ngIf="oldPassword.touched && oldPassword.errors" class="alert alert-danger">
      <li *ngIf="oldPassword.hasError('required')">Password is required</li>
      <li *ngIf="oldPassword.hasError('isCorrectPassword')">Password is incorrect</li>
    </ul>
  </div>
  <div class="form-group">
    <label for="newPassword">New Password</label>
    <input formControlName="newPassword" type="password" class="form-control" id="newPassword">
    <ul *ngIf="newPassword.touched && newPassword.errors" class="alert alert-danger">
      <li *ngIf="newPassword.hasError('required')">New Password is required</li>
    </ul>
  </div>
  <div class="form-group">
    <label for="confirmPassword">Confirm Password</label>
    <input formControlName="confirmPassword" type="password" class="form-control" id="confirmPassword">
    <ul *ngIf="confirmPassword.touched && confirmPassword.errors" class="alert alert-danger">
      <li *ngIf="confirmPassword.hasError('required')">Comfirm Password is required</li>
      <li *ngIf="confirmPassword.hasError('invalidMatch')">Passwords don't match</li>
    </ul>
  </div>
  <button [disabled]="form.invalid" class="btn btn-primary">Change Password</button>
</form>